// * Map

/*
Map ‚Äì —ç—Ç–æ –∫–æ–ª–ª–µ–∫—Ü–∏—è –∫–ª—é—á/–∑–Ω–∞—á–µ–Ω–∏–µ, –∫–∞–∫ –∏ Object.
–ù–æ –æ—Å–Ω–æ–≤–Ω–æ–µ –æ—Ç–ª–∏—á–∏–µ –≤ —Ç–æ–º, —á—Ç–æ Map –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
–∫–ª—é—á–∏ –ª—é–±–æ–≥–æ —Ç–∏–ø–∞.
*/

// –ú–µ—Ç–æ–¥—ã –∏ —Å–≤–æ–π—Å—Ç–≤–∞

/*
new Map() ‚Äì —Å–æ–∑–¥–∞—ë—Ç –∫–æ–ª–ª–µ–∫—Ü–∏—é.

map.set(key, value) ‚Äì –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –ø–æ –∫–ª—é—á—É key –∑–Ω–∞—á–µ–Ω–∏–µ value.

map.get(key) ‚Äì –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ –∫–ª—é—á—É –∏–ª–∏ undefined,
–µ—Å–ª–∏ –∫–ª—é—á key –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç.

map.has(key) ‚Äì –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç true, –µ—Å–ª–∏ –∫–ª—é—á key –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏,
–∏–Ω–∞—á–µ false.

map.delete(key) ‚Äì —É–¥–∞–ª—è–µ—Ç —ç–ª–µ–º–µ–Ω—Ç –ø–æ –∫–ª—é—á—É key.

map.clear() ‚Äì –æ—á–∏—â–∞–µ—Ç –∫–æ–ª–ª–µ–∫—Ü–∏—é –æ—Ç –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤.

map.size ‚Äì –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—É—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤.
*/

let map = new Map();

map.set('1', 'str1'); // —Å—Ç—Ä–æ–∫–∞ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫–ª—é—á–∞
map.set(1, 'num1'); // —Ü–∏—Ñ—Ä–∞ –∫–∞–∫ –∫–ª—é—á
map.set(true, 'bool1'); // –±—É–ª–µ–≤–æ –∑–Ω–∞—á–µ–Ω–∏–µ –∫–∞–∫ –∫–ª—é—á

// Map —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ç–∏–ø –∫–ª—é—á–µ–π, —Ç–∞–∫ —á—Ç–æ –≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è 2 —Ä–∞–∑–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏—è:
alert(map.get(1)); // "num1"
alert(map.get('1')); // "str1"

alert(map.size); // 3

/*
map[key] —ç—Ç–æ –Ω–µ —Å–æ–≤—Å–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Map
*/

// Map –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç—ã –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫–ª—é—á–µ–π

let john = { name: 'John' };

// –¥–∞–≤–∞–π—Ç–µ —Å–æ—Ö—Ä–∞–Ω–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Å–µ—â–µ–Ω–∏–π –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
let visits = new Map();

// –æ–±—ä–µ–∫—Ç john - —ç—Ç–æ –∫–ª—é—á –¥–ª—è –∑–Ω–∞—á–µ–Ω–∏—è –≤ –æ–±—ä–µ–∫—Ç–µ Map
visits.set(john, 123);

alert(visits.get(john)); // 123

/*
–ß—Ç–æ–±—ã —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å –∫–ª—é—á–∏, –æ–±—ä–µ–∫—Ç Map –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º SameValueZero.
–≠—Ç–æ –ø–æ—á—Ç–∏ —Ç–∞–∫–æ–µ –∂–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ, —á—Ç–æ –∏ ===, —Å —Ç–æ–π –ª–∏—à—å —Ä–∞–∑–Ω–∏—Ü–µ–π,
—á—Ç–æ NaN —Å—á–∏—Ç–∞–µ—Ç—Å—è —Ä–∞–≤–Ω—ã–º NaN.

–¢–∞–∫ —á—Ç–æ NaN —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫–ª—é—á–∞.
–≠—Ç–æ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–º–µ–Ω—ë–Ω –∏–ª–∏ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω.
*/

/*
–ö–∞–∂–¥—ã–π –≤—ã–∑–æ–≤ map.set –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç map, —Ç–∞–∫ —á—Ç–æ –º—ã –º–æ–∂–µ–º
–æ–±—ä–µ–¥–∏–Ω–∏—Ç—å –≤—ã–∑–æ–≤—ã –≤ —Ü–µ–ø–æ—á–∫—É:
*/
map.set('1', 'str1').set(1, 'num1').set(true, 'bool1');

//_ –ü–µ—Ä–µ–±–æ—Ä Map

/*
map.keys() ‚Äì –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏—Ç–µ—Ä–∏—Ä—É–µ–º—ã–π –æ–±—ä–µ–∫—Ç –ø–æ –∫–ª—é—á–∞–º.

map.values() ‚Äì –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏—Ç–µ—Ä–∏—Ä—É–µ–º—ã–π –æ–±—ä–µ–∫—Ç –ø–æ –∑–Ω–∞—á–µ–Ω–∏—è–º.

map.entries() ‚Äì –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏—Ç–µ—Ä–∏—Ä—É–µ–º—ã–π –æ–±—ä–µ–∫—Ç –ø–æ –ø–∞—Ä–∞–º –≤–∏–¥–∞
[–∫–ª—é—á, –∑–Ω–∞—á–µ–Ω–∏–µ], —ç—Ç–æ—Ç –≤–∞—Ä–∏–∞–Ω—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ for..of.

–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ Map –º—ã –º–æ–∂–µ–º —É–∫–∞–∑–∞—Ç—å –º–∞—Å—Å–∏–≤ (–∏–ª–∏ –¥—Ä—É–≥–æ–π –∏—Ç–µ—Ä–∏—Ä—É–µ–º—ã–π –æ–±—ä–µ–∫—Ç)
—Å –ø–∞—Ä–∞–º–∏ –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏:
*/

let recipeMap = new Map([
  ['–æ–≥—É—Ä–µ—Ü', 500],
  ['–ø–æ–º–∏–¥–æ—Ä', 350],
  ['–ª—É–∫', 50],
]);

// –ø–µ—Ä–µ–±–æ—Ä –ø–æ –∫–ª—é—á–∞–º (–æ–≤–æ—â–∏)
for (let vegetable of recipeMap.keys()) {
  alert(vegetable); // '–æ–≥—É—Ä–µ—Ü', '–ø–æ–º–∏–¥–æ—Ä', '–ª—É–∫'
}

// –ø–µ—Ä–µ–±–æ—Ä –ø–æ –∑–Ω–∞—á–µ–Ω–∏—è–º (—á–∏—Å–ª–∞)
for (let amount of recipeMap.values()) {
  alert(amount); // 500, 350, 50
}

// –ø–µ—Ä–µ–±–æ—Ä –ø–æ —ç–ª–µ–º–µ–Ω—Ç–∞–º –≤ —Ñ–æ—Ä–º–∞—Ç–µ [–∫–ª—é—á, –∑–Ω–∞—á–µ–Ω–∏–µ]
for (let entry of recipeMap) {
  // —Ç–æ –∂–µ —Å–∞–º–æ–µ, —á—Ç–æ –∏ recipeMap.entries()
  alert(entry); // ['–æ–≥—É—Ä–µ—Ü', 500] (–∏ —Ç–∞–∫ –¥–∞–ª–µ–µ)
}

/*
–í –æ—Ç–ª–∏—á–∏–µ –æ—Ç –æ–±—ã—á–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ Object, –≤ Map –ø–µ—Ä–µ–±–æ—Ä –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç
–≤ —Ç–æ–º –∂–µ –ø–æ—Ä—è–¥–∫–µ, –≤ –∫–∞–∫–æ–º –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ—Ä—è–¥–æ–∫ –≤—Å—Ç–∞–≤–∫–∏)
*/

// Map –∏–º–µ–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –º–µ—Ç–æ–¥ forEach, —Å—Ö–æ–∂–∏–π —Å–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º –º–µ—Ç–æ–¥–æ–º –º–∞—Å—Å–∏–≤–æ–≤ Array:

// –≤—ã–ø–æ–ª–Ω—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –∫–∞–∂–¥–æ–π –ø–∞—Ä—ã (–∫–ª—é—á, –∑–Ω–∞—á–µ–Ω–∏–µ)
recipeMap.forEach((value, key, map) => {
  alert(`${key}: ${value}`); // '–æ–≥—É—Ä–µ—Ü: 500' –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ
});

//_ –ü–æ–ª—É—á–µ–Ω–∏–µ Map –∏–∑ –æ–±—ä–µ–∫—Ç–∞ (Object.entries)

// –ú–µ—Ç–æ–¥ Object.entries(obj), –ø–æ–ª—É—á–∏–≤ –æ–±—ä–µ–∫—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤ –ø–∞—Ä –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ

let obj = {
  name: 'John',
  age: 30,
};

let map1 = new Map(Object.entries(obj)); // —Ç–æ–∂–µ —Å–∞–º–æ–µ, —á—Ç–æ:

/*
let map1 = new Map([
	['name', 'John'],
	['age', 30],
])

–ó–¥–µ—Å—å Object.entries –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤ –ø–∞—Ä
–∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ: [ ["name","John"], ["age", 30] ]
*/

alert(map1.get('name')); // 'John'

//_ –ü–æ–ª—É—á–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ –∏–∑ Map (Object.fromEntries)

// –ú–µ—Ç–æ–¥ Object.fromEntries, –ø–æ–ª—É—á–∏–≤ –º–∞—Å—Å–∏–≤ –ø–∞—Ä –≤–∏–¥–∞ [–∫–ª—é—á, –∑–Ω–∞—á–µ–Ω–∏–µ], —Å–æ–∑–¥–∞—ë—Ç –∏–∑ –Ω–∏—Ö –æ–±—ä–µ–∫—Ç

// –ü–æ–ª—É—á–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ –∏–∑ –º–∞—Å—Å–∏–≤–∞ –ø–∞—Ä –≤–∏–¥–∞ [–∫–ª—é—á, –∑–Ω–∞—á–µ–Ω–∏–µ]:

let pricesArr = [
  ['banana', 1],
  ['orange', 2],
  ['meat', 4],
];

let prices = Object.fromEntries(pricesArr);

alert(prices); // { banana: 1, orange: 2, meat: 4 }
alert(prices.orange); // 2

// –ü–æ–ª—É—á–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ –∏–∑ Map:

let map2 = new Map();

map2.set('banana', 1);
map2.set('orange', 2);
map2.set('meat', 4);

let object = Object.fromEntries(map2.entries()); // —Å–æ–∑–¥–∞—ë–º –æ–±—ã—á–Ω—ã–π –æ–±—ä–µ–∫—Ç (*)

alert(object); // { banana: 1, orange: 2, meat: 4 }
alert(object.orange); // 2

/*
–ü–µ—Ä–µ–±–æ—Ä map –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–∞—Ä—ã –∫–ª—é—á/–∑–Ω–∞—á–µ–Ω–∏–µ, —Ç–∞–∫ –∂–µ, –∫–∞–∫ –∏ map.entries(). 

–¢–∞–∫ –∫–∞–∫ Object.fromEntries –æ–∂–∏–¥–∞–µ—Ç –ø–µ—Ä–µ–±–∏—Ä–∞–µ–º—ã–π –æ–±—ä–µ–∫—Ç –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞,
(–Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –º–∞—Å—Å–∏–≤), –º—ã –±—ã –º–æ–≥–ª–∏ –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å —Å—Ç—Ä–æ–∫—É (*) –∫–æ—Ä–æ—á–µ:
*/

let object1 = Object.fromEntries(map); // —É–±—Ä–∞–ª–∏ .entries()

// * Set

/*
–û–±—ä–µ–∫—Ç Set –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –∫–æ–ª–ª–µ–∫—Ü–∏—é –∑–Ω–∞—á–µ–Ω–∏–π (–±–µ–∑ –∫–ª—é—á–µ–π),
–≥–¥–µ –∑–Ω–∞—á–µ–Ω–∏—è –Ω–µ –ø–æ–≤—Ç–æ—Ä—è—é—Ç—Å—è.

–ú–µ—Ç–æ–¥—ã Set:

new Set(iterable) ‚Äì —Å–æ–∑–¥–∞—ë—Ç Set, –∏ –µ—Å–ª–∏ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞
–±—ã–ª –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω –∏—Ç–µ—Ä–∏—Ä—É–µ–º—ã–π –æ–±—ä–µ–∫—Ç (–æ–±—ã—á–Ω–æ —ç—Ç–æ –º–∞—Å—Å–∏–≤),
—Ç–æ –∫–æ–ø–∏—Ä—É–µ—Ç –µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –≤ –Ω–æ–≤—ã–π Set.

set.add(value) ‚Äì –¥–æ–±–∞–≤–ª—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ (–µ—Å–ª–∏ –æ–Ω–æ —É–∂–µ –µ—Å—Ç—å, —Ç–æ –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞–µ—Ç),
–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ—Ç –∂–µ –æ–±—ä–µ–∫—Ç set.

set.delete(value) ‚Äì —É–¥–∞–ª—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç true,
–µ—Å–ª–∏ value –±—ã–ª–æ –≤ –º–Ω–æ–∂–µ—Å—Ç–≤–µ –Ω–∞ –º–æ–º–µ–Ω—Ç –≤—ã–∑–æ–≤–∞, –∏–Ω–∞—á–µ false.

set.has(value) ‚Äì –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç true, –µ—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç
–≤ –º–Ω–æ–∂–µ—Å—Ç–≤–µ, –∏–Ω–∞—á–µ false.

set.clear() ‚Äì —É–¥–∞–ª—è–µ—Ç –≤—Å–µ –∏–º–µ—é—â–∏–µ—Å—è –∑–Ω–∞—á–µ–Ω–∏—è.

set.size ‚Äì –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –º–Ω–æ–∂–µ—Å—Ç–≤–µ.
*/

/* 
–ü—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –≤—ã–∑–æ–≤–∞—Ö set.add() —Å –æ–¥–Ω–∏–º –∏ —Ç–µ–º –∂–µ –∑–Ω–∞—á–µ–Ω–∏–µ–º –Ω–∏—á–µ–≥–æ –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç,
–∑–∞ —Å—á—ë—Ç —ç—Ç–æ–≥–æ –∫–∞–∫ —Ä–∞–∑ –∏ –ø–æ–ª—É—á–∞–µ—Ç—Å—è, —á—Ç–æ –∫–∞–∂–¥–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑.

–ù–∞–ø—Ä–∏–º–µ—Ä, –º—ã –æ–∂–∏–¥–∞–µ–º –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–µ–π, –∏ –Ω–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ—Å—Ç–∞–≤–∏—Ç—å –∏—Ö —Å–ø–∏—Å–æ–∫.
–ù–æ –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –≤–∏–∑–∏—Ç—ã –Ω–µ –¥–æ–ª–∂–Ω—ã –ø—Ä–∏–≤–æ–¥–∏—Ç—å –∫ –¥—É–±–ª–∏–∫–∞—Ç–∞–º.
–ö–∞–∂–¥—ã–π –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è –≤ —Å–ø–∏—Å–∫–µ —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑.
*/

let set = new Set();

let alex = { name: 'Alex' };
let pete = { name: 'Pete' };
let mary = { name: 'Mary' };

// —Å—á–∏—Ç–∞–µ–º –≥–æ—Å—Ç–µ–π, –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏—Ö–æ–¥—è—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑
set.add(alex);
set.add(pete);
set.add(mary);
set.add(alex);
set.add(mary);

// set —Ö—Ä–∞–Ω–∏—Ç —Ç–æ–ª—å–∫–æ 3 —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏—è
alert(set.size); // 3

for (let user of set) {
  alert(user.name); // 'Alex' (–ø–æ—Ç–æ–º 'Pete' –∏ 'Mary')
}

/* 
–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–æ–π –º–Ω–æ–∂–µ—Å—Ç–≤—É Set –º–æ–∂–µ—Ç –≤—ã—Å—Ç—É–ø–∞—Ç—å –º–∞—Å—Å–∏–≤ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –≥–æ—Å—Ç–µ–π
–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–¥ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —É–∂–µ –∏–º–µ—é—â–µ–≥–æ—Å—è —ç–ª–µ–º–µ–Ω—Ç–∞ —Å –ø–æ–º–æ—â—å—é arr.find.

–ù–æ –≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ –±—É–¥–µ—Ç —Ö—É–∂–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –ø–æ—Ç–æ–º—É —á—Ç–æ arr.find
–ø—Ä–æ—Ö–æ–¥–∏—Ç –≤–µ—Å—å –º–∞—Å—Å–∏–≤ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞–ª–∏—á–∏—è —ç–ª–µ–º–µ–Ω—Ç–∞.

–ú–Ω–æ–∂–µ—Å—Ç–≤–æ Set –ª—É—á—à–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏–π,
–æ–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å.
*/

//_ –ü–µ—Ä–µ–±–æ—Ä –æ–±—ä–µ–∫—Ç–∞ Set

let fruits = new Set(['–∞–ø–µ–ª—å—Å–∏–Ω', '—è–±–ª–æ–∫–æ', '–±–∞–Ω–∞–Ω']);

for (let value of fruits) alert(value);

// —Ç–æ –∂–µ —Å–∞–º–æ–µ —Å forEach:
fruits.forEach((value, valueAgain, set) => {
  alert(value);
});

/*
value, valueAgain - –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ –∑–Ω–∞—á–µ–Ω–∏–µ. –¢–∞–∫ —Å–¥–µ–ª–∞–Ω–æ –¥–ª—è
—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å Map
*/

/*
Set –∏–º–µ–µ—Ç —Ç–µ –∂–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã, —á—Ç–æ –∏ Map:

set.values() ‚Äì –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–µ—Ä–µ–±–∏—Ä–∞–µ–º—ã–π –æ–±—ä–µ–∫—Ç –¥–ª—è –∑–Ω–∞—á–µ–Ω–∏–π.

set.keys() ‚Äì —Ç–æ –∂–µ —Å–∞–º–æ–µ, —á—Ç–æ –∏ set.values(), –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç
–¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å Map.

set.entries() ‚Äì –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–µ—Ä–µ–±–∏—Ä–∞–µ–º—ã–π –æ–±—ä–µ–∫—Ç –¥–ª—è –ø–∞—Ä –≤–∏–¥–∞
[–∑–Ω–∞—á–µ–Ω–∏–µ, –∑–Ω–∞—á–µ–Ω–∏–µ], –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å Map.
*/

/* 
–ü–µ—Ä–µ–±–æ—Ä Map –∏ Set –≤—Å–µ–≥–¥–∞ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –≤ –ø–æ—Ä—è–¥–∫–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤,
—Ç–∞–∫ —á—Ç–æ –Ω–µ–ª—å–∑—è —Å–∫–∞–∑–∞—Ç—å, —á—Ç–æ —ç—Ç–æ ‚Äì –Ω–µ—É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω—ã–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏,
–Ω–æ –ø–æ–º–µ–Ω—è—Ç—å –ø–æ—Ä—è–¥–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏–ª–∏ –ø–æ–ª—É—á–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç –Ω–∞–ø—Ä—è–º—É—é –ø–æ –µ–≥–æ –Ω–æ–º–µ—Ä—É –Ω–µ–ª—å–∑—è.
*/

//_ –ü–æ–ª—É—á–µ–Ω–∏–µ Set –∏–∑ –º–∞—Å—Å–∏–≤–∞

let arr1 = ['–∞–ø–µ–ª—å—Å–∏–Ω', '—è–±–ª–æ–∫–æ', '–±–∞–Ω–∞–Ω'];
let set1 = new Set(arr1);

//_ –ü–æ–ª—É—á–µ–Ω–∏–µ –º–∞—Å—Å–∏–≤–∞ –∏–∑ Set

let set2 = new Set(['–∞–ø–µ–ª—å—Å–∏–Ω', '—è–±–ª–æ–∫–æ', '–±–∞–Ω–∞–Ω']);
let arr2 = [...set2.values()]; // –∏–ª–∏ let arr2 = [...set2.keys()]
let arr_2 = Array.from(set2);

//* WeakMap

/* 
–î–≤–∏–∂–æ–∫ JavaScript —Ö—Ä–∞–Ω–∏—Ç –∑–Ω–∞—á–µ–Ω–∏—è –≤ –ø–∞–º—è—Ç–∏ –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ –æ–Ω–∏ –¥–æ—Å—Ç–∏–∂–∏–º—ã
(—Ç–æ –µ—Å—Ç—å, —ç—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏—è –º–æ–≥—É—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã).

(–ü–æ–¥—Ä–æ–±–Ω–µ–µ —ç—Ç–æ—Ç –º–µ—Ö–∞–Ω–∏–∑–º –æ–ø–∏—Å–∞–Ω –≤ —Ç–µ–º–µ: "—Å–±–æ—Ä–∫–∞ –º—É—Å–æ—Ä–∞".
–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ: learn -> addition -> garbage_collection.js)
*/

let arnold = { name: 'Arnold' }; // –æ–±—ä–µ–∫—Ç –¥–æ—Å—Ç—É–ø–µ–Ω, –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è arnold ‚Äî —ç—Ç–æ —Å—Å—ã–ª–∫–∞ –Ω–∞ –Ω–µ–≥–æ

arnold = null; // –ø–µ—Ä–µ–ø–∏—à–µ–º —Å—Å—ã–ª–∫—É (–æ–±—ä–µ–∫—Ç –±—É–¥–µ—Ç —É–¥–∞–ª—ë–Ω –∏–∑ –ø–∞–º—è—Ç–∏)

/* 
–û–±—ã—á–Ω–æ —Å–≤–æ–π—Å—Ç–≤–∞ –æ–±—ä–µ–∫—Ç–∞, —ç–ª–µ–º–µ–Ω—Ç—ã –º–∞—Å—Å–∏–≤–∞ –∏–ª–∏ –¥—Ä—É–≥–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö
—Å—á–∏—Ç–∞—é—Ç—Å—è –¥–æ—Å—Ç–∏–∂–∏–º—ã–º–∏ –∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏ –¥–æ —Ç–µ—Ö –ø–æ—Ä,
–ø–æ–∫–∞ —ç—Ç–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö —Å–æ–¥–µ—Ä–∂–∏—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏.

–ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –º—ã –ø–æ–º–µ—Å—Ç–∏–º –æ–±—ä–µ–∫—Ç –≤ –º–∞—Å—Å–∏–≤, —Ç–æ –¥–æ —Ç–µ—Ö –ø–æ—Ä,
–ø–æ–∫–∞ –º–∞—Å—Å–∏–≤ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –æ–±—ä–µ–∫—Ç —Ç–∞–∫–∂–µ –±—É–¥–µ—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å –≤ –ø–∞–º—è—Ç–∏,
–Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Ç–æ, —á—Ç–æ –¥—Ä—É–≥–∏—Ö —Å—Å—ã–ª–æ–∫ –Ω–∞ –Ω–µ–≥–æ –Ω–µ—Ç:
*/

let carl = { name: 'Carl' };

let array = [carl];

carl = null; // –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ–º —Å—Å—ã–ª–∫—É –Ω–∞ –æ–±—ä–µ–∫—Ç

alert(array[0]); // –æ–±—ä–µ–∫—Ç carl —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –º–∞—Å—Å–∏–≤–µ, –ø–æ—ç—Ç–æ–º—É –æ–Ω –Ω–µ –±—É–¥–µ—Ç —É–¥–∞–ª—ë–Ω —Å–±–æ—Ä—â–∏–∫–æ–º –º—É—Å–æ—Ä–∞

/* 
–ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ, –µ—Å–ª–∏ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –æ–±—ä–µ–∫—Ç –∫–∞–∫ –∫–ª—é—á –≤ Map, —Ç–æ –¥–æ —Ç–µ—Ö –ø–æ—Ä,
–ø–æ–∫–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç Map, —Ç–∞–∫–∂–µ –±—É–¥–µ—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å –∏ —ç—Ç–æ—Ç –æ–±—ä–µ–∫—Ç.

–û–Ω –∑–∞–Ω–∏–º–∞–µ—Ç –º–µ—Å—Ç–æ –≤ –ø–∞–º—è—Ç–∏ –∏ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —É–¥–∞–ª—ë–Ω —Å–±–æ—Ä—â–∏–∫–æ–º –º—É—Å–æ—Ä–∞
*/

let felix = { name: 'Felix' };

let map_1 = new Map();
map_1.set(felix, '...');

felix = null; // –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ–º —Å—Å—ã–ª–∫—É –Ω–∞ –æ–±—ä–µ–∫—Ç

alert(map_1.keys()); // –æ–±—ä–µ–∫—Ç { name: 'Felix' } —Å–æ—Ö—Ä–∞–Ω—ë–Ω –≤–Ω—É—Ç—Ä–∏ –æ–±—ä–µ–∫—Ç–∞ `Map`

/* 
WeakMap ‚Äì –ø—Ä–∏–Ω—Ü–∏–ø–∏–∞–ª—å–Ω–æ –¥—Ä—É–≥–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤ —ç—Ç–æ–º –∞—Å–ø–µ–∫—Ç–µ.
–û–Ω–∞ –Ω–µ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —É–¥–∞–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ —Å–±–æ—Ä—â–∏–∫–æ–º –º—É—Å–æ—Ä–∞,
–∫–æ–≥–¥–∞ —ç—Ç–∏ –æ–±—ä–µ–∫—Ç—ã –≤—ã—Å—Ç—É–ø–∞—é—Ç –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫–ª—é—á–µ–π.
*/

/*
WeakMap ‚Äì —ç—Ç–æ Map-–ø–æ–¥–æ–±–Ω–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è, –ø–æ–∑–≤–æ–ª—è—é—â–∞—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
–≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫–ª—é—á–µ–π —Ç–æ–ª—å–∫–æ –æ–±—ä–µ–∫—Ç—ã, –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è—é—â–∞—è –∏—Ö
–≤–º–µ—Å—Ç–µ —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏, –∫–∞–∫ —Ç–æ–ª—å–∫–æ –æ–Ω–∏ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è
–Ω–µ–¥–æ—Å—Ç–∏–∂–∏–º—ã–º–∏ –∏–Ω—ã–º–∏ –ø—É—Ç—è–º–∏.

–ú—ã –Ω–µ –∑–Ω–∞–µ–º, –≤ –∫–∞–∫–æ–π –º–æ–º–µ–Ω—Ç –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç —ç—Ç–∞ –æ—á–∏—Å—Ç–∫–∞,
—Ä–µ—à–µ–Ω–∏–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –¥–≤–∏–∂–æ–∫ JavaScript.

WeakMap –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–µ—Ä–µ–±–æ—Ä –∏ –º–µ—Ç–æ–¥—ã keys(), values(),
entries(), —Ç–∞–∫ —á—Ç–æ –Ω–µ—Ç —Å–ø–æ—Å–æ–±–∞ –≤–∑—è—Ç—å –≤—Å–µ –∫–ª—é—á–∏ –∏–ª–∏ –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ –Ω–µ—ë.

–ü—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç —Ç–æ–ª—å–∫–æ —Å–ª–µ–¥—É—é—â–∏–µ –º–µ—Ç–æ–¥—ã:

weakMap.set(key, value) - —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–ª—é—á –∏ –∑–Ω–∞—á–µ–Ω–∏–µ
weakMap.get(key) - –ø–æ–ª—É—á–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ –∫–ª—é—á—É
weakMap.delete(key) - —É–¥–∞–ª–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ –∫–ª—é—á—É
weakMap.has(key) - —É–∑–Ω–∞—Ç—å –Ω–∞–ª–∏—á–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ –∫–ª—é—á—É

–æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –º–µ—Ç–æ–¥—ã clear() –∏ size
*/

let james = { name: 'James' };

let weakMap = new WeakMap();
weakMap.set(james, '...');

james = null;

alert(weakMap); // weakMap {empty}, –æ–±—ä–µ–∫—Ç james —É–¥–∞–ª—ë–Ω –∏–∑ –ø–∞–º—è—Ç–∏!

// –Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç—Ä–æ–∫—É –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫–ª—é—á–∞
weakMap.set('test', 'Whoops'); // –û—à–∏–±–∫–∞, –ø–æ—Ç–æ–º—É —á—Ç–æ "test" –Ω–µ –æ–±—ä–µ–∫—Ç

// –ù–æ –¥–ª—è —á–µ–≥–æ –∂–µ –Ω–∞–º –Ω—É–∂–Ω–∞ —Ç–∞–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö?

//_ –í –æ—Å–Ω–æ–≤–Ω–æ–º WeakMap –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∞–Ω–Ω—ã—Ö

/* 
–ï—Å–ª–∏ –º—ã —Ä–∞–±–æ—Ç–∞–µ–º —Å –æ–±—ä–µ–∫—Ç–æ–º, –∫–æ—Ç–æ—Ä—ã–π ¬´–ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç¬ª –¥—Ä—É–≥–æ–º—É –∫–æ–¥—É
–º–æ–∂–µ—Ç –±—ã—Ç—å –¥–∞–∂–µ —Å—Ç–æ—Ä–æ–Ω–Ω–µ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–µ, –∏ —Ö–æ—Ç–∏–º —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —É —Å–µ–±—è
–∫–∞–∫–∏–µ-—Ç–æ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –Ω–µ–≥–æ, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å
–ª–∏—à—å –ø–æ–∫–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —ç—Ç–æ—Ç –æ–±—ä–µ–∫—Ç, —Ç–æ WeakMap ‚Äì –∫–∞–∫ —Ä–∞–∑ —Ç–æ, —á—Ç–æ –Ω—É–∂–Ω–æ.

–ú—ã –∫–ª–∞–¥—ë–º —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ –≤ WeakMap, –∏—Å–ø–æ–ª—å–∑—É—è –æ–±—ä–µ–∫—Ç –∫–∞–∫ –∫–ª—é—á,
–∏ –∫–æ–≥–¥–∞ —Å–±–æ—Ä—â–∏–∫ –º—É—Å–æ—Ä–∞ —É–¥–∞–ª–∏—Ç –æ–±—ä–µ–∫—Ç—ã –∏–∑ –ø–∞–º—è—Ç–∏,
–∞—Å—Å–æ—Ü–∏–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å –Ω–∏–º–∏ –¥–∞–Ω–Ω—ã–µ —Ç–æ–∂–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å—á–µ–∑–Ω—É—Ç.
*/

weakMap.set(john, '—Å–µ–∫—Ä–µ—Ç–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã');
// –µ—Å–ª–∏ john = null, "—Å–µ–∫—Ä–µ—Ç–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã" –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–Ω–∏—á—Ç–æ–∂–µ–Ω—ã

//_ –ü—Ä–∏–º–µ—Ä —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å—á—ë—Ç—á–∏–∫–∞ –ø–æ—Å–µ—â–µ–Ω–∏–π

/* 
–ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º, —É –Ω–∞—Å –µ—Å—Ç—å –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –≤–µ–¥—ë—Ç —É—á—ë—Ç –ø–æ—Å–µ—â–µ–Ω–∏–π –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.
–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ WeakMap: –æ–±—ä–µ–∫—Ç, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è,
—è–≤–ª—è–µ—Ç—Å—è –∫–ª—é—á–æ–º, –∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–∏–∑–∏—Ç–æ–≤ ‚Äì –∑–Ω–∞—á–µ–Ω–∏–µ–º.

–ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞—Å –ø–æ–∫–∏–¥–∞–µ—Ç (–µ–≥–æ –æ–±—ä–µ–∫—Ç —É–¥–∞–ª—è–µ—Ç—Å—è —Å–±–æ—Ä—â–∏–∫–æ–º –º—É—Å–æ—Ä–∞),
—Ç–æ –±–æ–ª—å—à–µ –Ω–µ—Ç —Å–º—ã—Å–ª–∞ —Ö—Ä–∞–Ω–∏—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —Å—á—ë—Ç—á–∏–∫ –ø–æ—Å–µ—â–µ–Ω–∏–π.
*/

// üìÅ visitsCount.js
let user_visits = new WeakMap(); // map: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å => —á–∏—Å–ª–æ –≤–∏–∑–∏—Ç–æ–≤

// —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á—ë—Ç—á–∏–∫
function countUser(user) {
  let val = user_visits.get(user) || 0;
  user_visits.set(user, val + 1);
}

// üìÅ main.js
let henry = { name: 'Henry' };

countUser(henry); //–≤–µ–¥—ë–º –ø–æ–¥—Å—á—ë—Ç –ø–æ—Å–µ—â–µ–Ω–∏–π
countUser(henry);

alert(user_visits); // { name: "Henry" } => 2
alert(user_visits.get(henry)); // 2

// –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–∫–∏–Ω—É–ª –Ω–∞—Å
henry = null;

alert(user_visits.get(henry)); // undefined

/*
–ù–∞–º –Ω–µ –Ω—É–∂–Ω–æ –æ—á–∏—â–∞—Ç—å user_visits –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –æ–±—ä–µ–∫—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è,
–∫–æ–ª–ª–µ–∫—Ü–∏—è –Ω–µ –±—É–¥–µ—Ç –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ —Ä–∞—Å—Ç–∏.

–ü–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –æ–±—ä–µ–∫—Ç henry —Å—Ç–∞–ª –Ω–µ–¥–æ—Å—Ç–∏–∂–∏–º –¥—Ä—É–≥–∏–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏,
–∫—Ä–æ–º–µ –∫–∞–∫ —á–µ—Ä–µ–∑ WeakMap, –æ–Ω —É–¥–∞–ª—è–µ—Ç—Å—è –∏–∑ –ø–∞–º—è—Ç–∏ –≤–º–µ—Å—Ç–µ
—Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –ø–æ —Ç–∞–∫–æ–º—É –∫–ª—é—á—É –∏–∑ WeakMap.
*/

//_ –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –¥–ª—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è

/* 
–î—Ä—É–≥–∞—è —á–∞—Å—Ç–∞—è —Å—Ñ–µ—Ä–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è ‚Äì —ç—Ç–æ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ, –∫–æ–≥–¥–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏–∏
–¥–æ–ª–∂–µ–Ω –≥–¥–µ-—Ç–æ –∑–∞–ø–æ–º–∏–Ω–∞—Ç—å—Å—è (¬´–∫–µ—à–∏—Ä–æ–≤–∞—Ç—å—Å—è¬ª) –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –¥–∞–ª—å–Ω–µ–π—à–∏–µ –µ—ë –≤—ã–∑–æ–≤—ã
–Ω–∞ —Ç–æ–º –∂–µ –æ–±—ä–µ–∫—Ç–µ –º–æ–≥–ª–∏ –ø—Ä–æ—Å—Ç–æ –±—Ä–∞—Ç—å —É–∂–µ –≥–æ—Ç–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –ø–æ–≤—Ç–æ—Ä–Ω–æ –∏—Å–ø–æ–ª—å–∑—É—è –µ–≥–æ.
*/

// üìÅ cache.js
let cache = new WeakMap();

// –≤—ã—á–∏—Å–ª—è–µ–º –∏ –∑–∞–ø–æ–º–∏–Ω–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
function process(obj) {
  if (!cache.has(obj)) {
    let result = /* –≤—ã—á–∏—Å–ª—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–ª—è –æ–±—ä–µ–∫—Ç–∞ */ obj;
    cache.set(obj, result);
  }
  return cache.get(obj);
}

// üìÅ main.js
let object_1 = {
  /* –∫–∞–∫–æ–π-—Ç–æ –æ–±—ä–µ–∫—Ç */
};

let result1 = process(object_1);
let result2 = process(object_1);

// ...–ø–æ–∑–∂–µ, –∫–æ–≥–¥–∞ –æ–±—ä–µ–∫—Ç –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–µ–Ω:
object_1 = null;

/* 
–ù–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø–æ–ª—É—á–∏—Ç—å cache.size, —Ç–∞–∫ –∫–∞–∫ —ç—Ç–æ WeakMap,
–Ω–æ –æ–Ω —Ä–∞–≤–µ–Ω 0 –∏–ª–∏ —Å–∫–æ—Ä–æ –±—É–¥–µ—Ç —Ä–∞–≤–µ–Ω 0.
–ö–æ–≥–¥–∞ —Å–±–æ—Ä—â–∏–∫ –º—É—Å–æ—Ä–∞ —É–¥–∞–ª—è–µ—Ç object_1, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –Ω–∏–º –¥–∞–Ω–Ω—ã–µ –∏–∑ –∫–µ—à–∞ —Ç–æ–∂–µ —É–¥–∞–ª—è—é—Ç—Å—è
*/

//* WeakSet

/*
–ö–æ–ª–ª–µ–∫—Ü–∏—è WeakSet –≤–µ–¥—ë—Ç —Å–µ–±—è –ø–æ—Ö–æ–∂–µ:

- –û–Ω–∞ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–∞ Set, –Ω–æ –º—ã –º–æ–∂–µ–º –¥–æ–±–∞–≤–ª—è—Ç—å –≤ WeakSet —Ç–æ–ª—å–∫–æ –æ–±—ä–µ–∫—Ç—ã (–Ω–µ –ø—Ä–∏–º–∏—Ç–∏–≤–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è).

- –û–±—ä–µ–∫—Ç –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ –º–Ω–æ–∂–µ—Å—Ç–≤–µ —Ç–æ–ª—å–∫–æ –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ –¥–æ—Å—Ç—É–ø–µ–Ω –≥–¥–µ-—Ç–æ –µ—â—ë.

- –ö–∞–∫ –∏ Set, –æ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç add, delete –∏ has, –Ω–æ –Ω–µ clear(), size –∏ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –ø–µ—Ä–µ–±–∏—Ä–∞–µ–º–æ–π
(–Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –º–µ—Ç–æ–¥—ã keys(), values() –∏ entries())
*/

// –ü—Ä–∏–º–µ—Ä —É—á—ë—Ç–∞ –ª–∏—Ü, –ø–æ—Å–µ—Ç–∏–≤—à–∏—Ö —Å–∞–π—Ç:

let visitedSet = new WeakSet();

let gerald = { name: 'Gerald' };
let scott = { name: 'Scott' };
let jesse = { name: 'Jesse' };

visitedSet.add(gerald); // Gerald –∑–∞—Ö–æ–¥–∏–ª –∫ –Ω–∞–º
visitedSet.add(scott); // –ø–æ—Ç–æ–º scott
visitedSet.add(gerald); // Gerald —Å–Ω–æ–≤–∞

// visitedSet —Å–µ–π—á–∞—Å —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–≤—É—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

// –ø—Ä–æ–≤–µ—Ä–∏–º, –∑–∞—Ö–æ–¥–∏–ª –ª–∏ Gerald?
alert(visitedSet.has(gerald)); // true

// –ø—Ä–æ–≤–µ—Ä–∏–º, –∑–∞—Ö–æ–¥–∏–ª–∞ –ª–∏ Jesse?
alert(visitedSet.has(jesse)); // false

gerald = null;
alert(visitedSet.has(gerald)); // false

/* 
–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö visitedSet –±—É–¥–µ—Ç –æ—á–∏—â–µ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
(–æ–±—ä–µ–∫—Ç gerald –±—É–¥–µ—Ç —É–¥–∞–ª—ë–Ω –∏–∑ visitedSet)
*/

/*
–í WeakMap –∏ WeakSet –Ω–µ–ª—å–∑—è –ø–µ—Ä–µ–±–∏—Ä–∞—Ç—å –∏–ª–∏ –≤–∑—è—Ç—å –≤—Å–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ, –∏—Ö –∑–∞–¥–∞—á–∞ -
–±—ã—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ–±—ä–µ–∫—Ç–æ–≤, —É–ø—Ä–∞–≤–ª—è–µ–º—ã—Ö –∏–∑ –∫–∞–∫–∏—Ö-—Ç–æ –¥—Ä—É–≥–∏—Ö –º–µ—Å—Ç –≤ –∫–æ–¥–µ
*/

// * –ò—Ç–æ–≥–æ

/* 
Map ‚Äì –∫–æ–ª–ª–µ–∫—Ü–∏—è –ø–∞—Ä –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ.

–ú–µ—Ç–æ–¥—ã –∏ —Å–≤–æ–π—Å—Ç–≤–∞:

new Map([iterable]) ‚Äì —Å–æ–∑–¥–∞—ë—Ç –∫–æ–ª–ª–µ–∫—Ü–∏—é, –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –ø–µ—Ä–µ–±–∏—Ä–∞–µ–º—ã–π –æ–±—ä–µ–∫—Ç
(–æ–±—ã—á–Ω–æ –º–∞—Å—Å–∏–≤) –∏–∑ –ø–∞—Ä [–∫–ª—é—á,–∑–Ω–∞—á–µ–Ω–∏–µ] –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏.

map.set(key, value) ‚Äì –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –ø–æ –∫–ª—é—á—É key –∑–Ω–∞—á–µ–Ω–∏–µ value.
map.get(key) ‚Äì –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ –∫–ª—é—á—É –∏–ª–∏ undefined, –µ—Å–ª–∏ –∫–ª—é—á key –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç.
map.has(key) ‚Äì –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç true, –µ—Å–ª–∏ –∫–ª—é—á key –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏, –∏–Ω–∞—á–µ false.
map.delete(key) ‚Äì —É–¥–∞–ª—è–µ—Ç —ç–ª–µ–º–µ–Ω—Ç –ø–æ –∫–ª—é—á—É key.
map.clear() ‚Äì –æ—á–∏—â–∞–µ—Ç –∫–æ–ª–ª–µ–∫—Ü–∏—é –æ—Ç –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤.
map.size ‚Äì –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—É—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤.

–û—Ç–ª–∏—á–∏—è –æ—Ç –æ–±—ã—á–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ Object:

- —á—Ç–æ —É–≥–æ–¥–Ω–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –∫–ª—é—á–æ–º, –≤ —Ç–æ–º —á–∏—Å–ª–µ –∏ –æ–±—ä–µ–∫—Ç—ã.
- –µ—Å—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã, —Å–≤–æ–π—Å—Ç–≤–æ size.


Set ‚Äì –∫–æ–ª–ª–µ–∫—Ü–∏—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π, —Ç–∞–∫ –Ω–∞–∑—ã–≤–∞–µ–º–æ–µ ¬´–º–Ω–æ–∂–µ—Å—Ç–≤–æ¬ª.

–ú–µ—Ç–æ–¥—ã –∏ —Å–≤–æ–π—Å—Ç–≤–∞:
new Set(iterable) ‚Äì —Å–æ–∑–¥–∞—ë—Ç Set, –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –ø–µ—Ä–µ–±–∏—Ä–∞–µ–º—ã–π –æ–±—ä–µ–∫—Ç —Å–æ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏.

set.add(value) ‚Äì –¥–æ–±–∞–≤–ª—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ (–µ—Å–ª–∏ –æ–Ω–æ —É–∂–µ –µ—Å—Ç—å, —Ç–æ –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞–µ—Ç), –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ—Ç –∂–µ –æ–±—ä–µ–∫—Ç set.
set.delete(value) ‚Äì —É–¥–∞–ª—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç true –µ—Å–ª–∏ value –±—ã–ª–æ –≤ –º–Ω–æ–∂–µ—Å—Ç–≤–µ –Ω–∞ –º–æ–º–µ–Ω—Ç –≤—ã–∑–æ–≤–∞, –∏–Ω–∞—á–µ false.
set.has(value) ‚Äì –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç true, –µ—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ –º–Ω–æ–∂–µ—Å—Ç–≤–µ, –∏–Ω–∞—á–µ false.
set.clear() ‚Äì —É–¥–∞–ª—è–µ—Ç –≤—Å–µ –∏–º–µ—é—â–∏–µ—Å—è –∑–Ω–∞—á–µ–Ω–∏—è.
set.size ‚Äì –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –º–Ω–æ–∂–µ—Å—Ç–≤–µ.


–ü–µ—Ä–µ–±–æ—Ä Map –∏ Set –≤—Å–µ–≥–¥–∞ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –≤ –ø–æ—Ä—è–¥–∫–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤,
—Ç–∞–∫ —á—Ç–æ –Ω–µ–ª—å–∑—è —Å–∫–∞–∑–∞—Ç—å, —á—Ç–æ —ç—Ç–æ ‚Äì –Ω–µ—É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω—ã–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏,
–Ω–æ –ø–æ–º–µ–Ω—è—Ç—å –ø–æ—Ä—è–¥–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏–ª–∏ –ø–æ–ª—É—á–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç –Ω–∞–ø—Ä—è–º—É—é –ø–æ –µ–≥–æ –Ω–æ–º–µ—Ä—É –Ω–µ–ª—å–∑—è.

Map –∏ Set –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –ø–µ—Ä–µ–±–æ—Ä (–º–µ—Ç–æ–¥—ã keys(), values(), entries(), forEach, —Ü–∏–∫–ª for..of)


–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è Map –∏–∑ –æ–±—ä–µ–∫—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ—Ç–æ–¥ Object.entries(obj).

–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞ –∏–∑ Map –∏–ª–∏ –∏–∑ –º–∞—Å—Å–∏–≤–∞ –ø–∞—Ä –≤–∏–¥–∞ [–∫–ª—é—á, –∑–Ω–∞—á–µ–Ω–∏–µ]
–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ—Ç–æ–¥ Object.fromEntries.

–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è Set –∏–∑ –º–∞—Å—Å–∏–≤–∞ –ø–µ—Ä–µ–¥–∞–π—Ç–µ –º–∞—Å—Å–∏–≤ –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç –≤ new Set(...).

–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –º–∞—Å—Å–∏–≤–∞ –∏–∑ Set —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤ –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã Set,
–≤—ã–∑–≤–∞–≤ –º–µ—Ç–æ–¥ values() –∏–ª–∏ keys()
*/

/* 
WeakMap ‚Äì —ç—Ç–æ Map-–ø–æ–¥–æ–±–Ω–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è, –ø–æ–∑–≤–æ–ª—è—é—â–∞—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫–ª—é—á–µ–π —Ç–æ–ª—å–∫–æ –æ–±—ä–µ–∫—Ç—ã,
–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è—é—â–∞—è –∏—Ö –≤–º–µ—Å—Ç–µ —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏,
–∫–∞–∫ —Ç–æ–ª—å–∫–æ –æ–Ω–∏ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –Ω–µ–¥–æ—Å—Ç–∏–∂–∏–º—ã–º–∏ –∏–Ω—ã–º–∏ –ø—É—Ç—è–º–∏.

WeakSet ‚Äì —ç—Ç–æ Set-–ø–æ–¥–æ–±–Ω–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è —Ö—Ä–∞–Ω–∏—Ç —Ç–æ–ª—å–∫–æ –æ–±—ä–µ–∫—Ç—ã –∏ —É–¥–∞–ª—è–µ—Ç –∏—Ö,
–∫–∞–∫ —Ç–æ–ª—å–∫–æ –æ–Ω–∏ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –Ω–µ–¥–æ—Å—Ç–∏–∂–∏–º—ã–º–∏ –∏–Ω—ã–º–∏ –ø—É—Ç—è–º–∏.

–û–±–µ —ç—Ç–∏—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –º–µ—Ç–æ–¥—ã –∏ —Å–≤–æ–π—Å—Ç–≤–∞,
—Ä–∞–±–æ—Ç–∞—é—â–∏–µ —Å–æ –≤—Å–µ–º —Å–æ–¥–µ—Ä–∂–∏–º—ã–º —Å—Ä–∞–∑—É –∏–ª–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ä–∞–∑–º–µ—Ä–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏.
–í–æ–∑–º–æ–∂–Ω—ã —Ç–æ–ª—å–∫–æ –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–æ–º —ç–ª–µ–º–µ–Ω—Ç–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏.

WeakMap –∏ WeakSet –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∫–∞–∫ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö
–≤ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∫ ¬´–æ—Å–Ω–æ–≤–Ω–æ–º—É¬ª –º–µ—Å—Ç—É —Ö—Ä–∞–Ω–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞.
–ï—Å–ª–∏ –æ–±—ä–µ–∫—Ç —É–¥–∞–ª—è–µ—Ç—Å—è –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –∏ –Ω–∏–≥–¥–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è,
–∫—Ä–æ–º–µ –∫–∞–∫ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫–ª—é—á–∞ –≤ WeakMap –∏–ª–∏ –≤ WeakSet, —Ç–æ –æ–Ω –±—É–¥–µ—Ç —É–¥–∞–ª—ë–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

–ú–µ—Ç–æ–¥—ã WeakMap:

weakMap.set(key, value) - —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–ª—é—á –∏ –∑–Ω–∞—á–µ–Ω–∏–µ
weakMap.get(key) - –ø–æ–ª—É—á–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ –∫–ª—é—á—É
weakMap.delete(key) - —É–¥–∞–ª–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ –∫–ª—é—á—É
weakMap.has(key) - —É–∑–Ω–∞—Ç—å –Ω–∞–ª–∏—á–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ –∫–ª—é—á—É

–æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –º–µ—Ç–æ–¥—ã clear() –∏ size

–ú–µ—Ç–æ–¥—ã WeakSet:

add, delete –∏ has, –Ω–æ –Ω–µ clear() –∏ size

WeakMap –∏ WeakSet –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –ø–µ—Ä–µ–±–æ—Ä –∏ –º–µ—Ç–æ–¥—ã keys(), values(), entries()
*/
